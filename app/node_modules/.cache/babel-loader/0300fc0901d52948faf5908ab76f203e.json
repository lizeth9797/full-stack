{"ast":null,"code":"var _jsxFileName = \"/home/karina/bedu/System-Rentail/app/src/components/Login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport \"./login.sass\";\nimport imgInformation from \"../../public/assets/information.jpg\";\nimport SimpleBackdrop from '../utils/SimpleBackdrop/SimpleBackdrop';\nimport TextField from '@mui/material/TextField';\nimport PropTypes from 'prop-types';\nimport ButtonUnstyled, { buttonUnstyledClasses } from '@mui/core/ButtonUnstyled';\nimport { styled } from '@mui/system';\nimport Stack from '@mui/material/Stack';\nimport MuiAlert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Alert;\nconst ButtonRoot = /*#__PURE__*/React.forwardRef(_c3 = function ButtonRoot(props, ref) {\n  const {\n    children,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"150\",\n    height: \"50\",\n    ...other,\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"0,50 0,0 150,0 150,50\",\n      className: \"bg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"0,50 0,0 150,0 150,50\",\n      className: \"borderEffect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"foreignObject\", {\n      x: \"0\",\n      y: \"0\",\n      width: \"150\",\n      height: \"50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 7\n  }, this);\n});\n_c4 = ButtonRoot;\nButtonRoot.propTypes = {\n  children: PropTypes.node\n};\nconst CustomButtonRoot = styled(ButtonRoot)(({\n  theme\n}) => `\n    overflow: visible;\n    cursor: pointer;\n    --main-color: ${theme.palette.mode === 'light' ? 'rgb(25,118,210)' : 'rgb(144,202,249)'};\n    --hover-color: ${theme.palette.mode === 'light' ? 'rgba(25,118,210,0.04)' : 'rgba(144,202,249,0.08)'};\n    --active-color: ${theme.palette.mode === 'light' ? 'rgba(25,118,210,0.12)' : 'rgba(144,202,249,0.24)'};\n  \n    & polygon {\n      fill: transparent;\n      transition: all 800ms ease;\n      pointer-events: none;\n    }\n    \n    & .bg {\n      stroke: var(--main-color);\n      stroke-width: 0.5;\n      filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.1));\n      fill: transparent;\n    }\n  \n    & .borderEffect {\n      stroke: var(--main-color);\n      stroke-width: 2;\n      stroke-dasharray: 150 600;\n      stroke-dashoffset: 150;\n      fill: transparent;\n    }\n  \n    &:hover,\n    &.${buttonUnstyledClasses.focusVisible} {\n      .borderEffect {\n        stroke-dashoffset: -600;\n      }\n  \n      .bg {\n        fill: var(--hover-color);\n      }\n    }\n  \n    &:focus,\n    &.${buttonUnstyledClasses.focusVisible} {\n      outline: none;\n    }\n  \n    &.${buttonUnstyledClasses.active} { \n      & .bg {\n        fill: var(--active-color);\n        transition: fill 300ms ease-out;\n      }\n    }\n  \n    & foreignObject {\n      pointer-events: none;\n  \n      & .content {\n        font-family: Helvetica, Inter, Arial, sans-serif;\n        font-size: 14px;\n        font-weight: 200;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: var(--main-color);\n        text-transform: uppercase;\n      }\n  \n      & svg {\n        margin: 0 5px;\n      }\n    }`);\nconst SvgButton = /*#__PURE__*/React.forwardRef(_c5 = function SvgButton(props, ref) {\n  return /*#__PURE__*/_jsxDEV(ButtonUnstyled, { ...props,\n    component: CustomButtonRoot,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 12\n  }, this);\n});\n_c6 = SvgButton;\nexport default function Login() {\n  _s();\n\n  const [email, setEmail] = React.useState(null);\n  const [password, setPassword] = React.useState(null);\n  const [loading, setLoading] = React.useState(null);\n  const [msg, setMsg] = React.useState({\n    status: \"\",\n    message: \"\"\n  });\n\n  async function sendLogin(event) {\n    event.preventDefault();\n    setLoading(true);\n\n    try {\n      const url = 'https://system-rentail-api.herokuapp.com/users/login';\n      let dataLogin = {\n        email: email,\n        password: password\n      };\n      const config = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(dataLogin)\n      };\n      const request = await fetch(url, config);\n      const jsonRequest = await request.json();\n\n      if (jsonRequest.errors) {\n        if (jsonRequest.errors.email) {\n          setMsg({\n            status: \"error\",\n            message: `Debe ingresar su email`\n          });\n          setOpenAlert(true);\n          setLoading(false);\n        } else if (jsonRequest.errors.password) {\n          setMsg({\n            status: \"error\",\n            message: `Debe ingresar su contraseña`\n          });\n          setOpenAlert(true);\n          setLoading(false);\n        } else {\n          setMsg({\n            status: \"error\",\n            message: `Email o Contraseña incorrectas`\n          });\n          setOpenAlert(true);\n          setLoading(false);\n        }\n      } else if (jsonRequest.user) {\n        setMsg({\n          status: \"success\",\n          message: `Bienvenid@ ${jsonRequest.user.username}!`\n        });\n        window.localStorage.setItem(\"user\", JSON.stringify(jsonRequest.user));\n        setOpenAlert(true);\n        setTimeout(() => {\n          setLoading(false);\n          window.location.href = \"/catalog\";\n        }, 2000);\n      }\n    } catch (e) {\n      setMsg({\n        status: \"error\",\n        message: \"Algo salio mal, no se pudo iniciar sesion!\"\n      });\n      setOpenAlert(true);\n      setLoading(false);\n    }\n  }\n\n  function handleChange(event) {\n    if (event.target.id === \"email\") {\n      setEmail(event.target.value);\n    } else if (event.target.id === \"password\") {\n      setPassword(event.target.value);\n    }\n  }\n\n  const [openAlert, setOpenAlert] = React.useState(false);\n\n  const handleCloseAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenAlert(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(SimpleBackdrop, {\n      loading: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 20\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"information\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Conviertete en uno de nuestros arrendadores.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel lacus sit amet purus placerat feugiat. Maecenas id metus lobortis, pulvinar nunc id, tristique orci. Integer dolor urna, scelerisque.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgInformation,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forms\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actions-login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Ya tienes una cuenta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              onChange: handleChange,\n              className: \"input-text\",\n              id: \"email\",\n              label: \"Email\",\n              value: email || \"\",\n              placeholder: \"Ingresa tu Email\",\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              onChange: handleChange,\n              type: \"password\",\n              className: \"input-text\",\n              id: \"password\",\n              label: \"Constrase\\xF1a\",\n              value: password || \"\",\n              placeholder: \"Ingresa tu Password\",\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(SvgButton, {\n              onClick: sendLogin,\n              id: \"submit-login\",\n              children: \"Iniciar Sesion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Aun no esta registrado?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Fusce vitae neque libero. In ligula arcu, placerat vel luctus non, accumsan in ipsum. Pellentesque euismod commodo laoreet. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"actions-register\",\n            children: [/*#__PURE__*/_jsxDEV(SvgButton, {\n              onClick: event => {\n                window.location.href = \"/user/register\";\n              },\n              id: \"button-register\",\n              children: \"Registrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"Necesitas Ayuda?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      children: /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: openAlert,\n        autoHideDuration: 6000,\n        onClose: handleCloseAlert,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleCloseAlert,\n          severity: msg.status,\n          sx: {\n            width: '100%'\n          },\n          children: msg.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"YwgcPzdKoIPCers/0f7fCnmrFcc=\");\n\n_c7 = Login;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"ButtonRoot$React.forwardRef\");\n$RefreshReg$(_c4, \"ButtonRoot\");\n$RefreshReg$(_c5, \"SvgButton$React.forwardRef\");\n$RefreshReg$(_c6, \"SvgButton\");\n$RefreshReg$(_c7, \"Login\");","map":{"version":3,"sources":["/home/karina/bedu/System-Rentail/app/src/components/Login/Login.jsx"],"names":["React","imgInformation","SimpleBackdrop","TextField","PropTypes","ButtonUnstyled","buttonUnstyledClasses","styled","Stack","MuiAlert","Snackbar","Alert","forwardRef","props","ref","ButtonRoot","children","other","propTypes","node","CustomButtonRoot","theme","palette","mode","focusVisible","active","SvgButton","Login","email","setEmail","useState","password","setPassword","loading","setLoading","msg","setMsg","status","message","sendLogin","event","preventDefault","url","dataLogin","config","method","headers","body","JSON","stringify","request","fetch","jsonRequest","json","errors","setOpenAlert","user","username","window","localStorage","setItem","setTimeout","location","href","e","handleChange","target","id","value","openAlert","handleCloseAlert","reason","width"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport \"./login.sass\";\nimport imgInformation from \"../../public/assets/information.jpg\";\nimport SimpleBackdrop from '../utils/SimpleBackdrop/SimpleBackdrop'\nimport TextField from '@mui/material/TextField';\nimport PropTypes from 'prop-types';\nimport ButtonUnstyled, { buttonUnstyledClasses } from '@mui/core/ButtonUnstyled';\nimport { styled } from '@mui/system';\nimport Stack from '@mui/material/Stack';\nimport MuiAlert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n  });\n\nconst ButtonRoot = React.forwardRef(function ButtonRoot(props, ref) {\n    const { children, ...other } = props;\n  \n    return (\n      <svg width=\"150\" height=\"50\" {...other} ref={ref}>\n        <polygon points=\"0,50 0,0 150,0 150,50\" className=\"bg\" />\n        <polygon points=\"0,50 0,0 150,0 150,50\" className=\"borderEffect\" />\n        <foreignObject x=\"0\" y=\"0\" width=\"150\" height=\"50\">\n          <div className=\"content\">{children}</div>\n        </foreignObject>\n      </svg>\n    );\n  });\n  \n  ButtonRoot.propTypes = {\n    children: PropTypes.node,\n  };\n  \n  const CustomButtonRoot = styled(ButtonRoot)(\n    ({ theme }) => `\n    overflow: visible;\n    cursor: pointer;\n    --main-color: ${\n      theme.palette.mode === 'light' ? 'rgb(25,118,210)' : 'rgb(144,202,249)'\n    };\n    --hover-color: ${\n      theme.palette.mode === 'light'\n        ? 'rgba(25,118,210,0.04)'\n        : 'rgba(144,202,249,0.08)'\n    };\n    --active-color: ${\n      theme.palette.mode === 'light'\n        ? 'rgba(25,118,210,0.12)'\n        : 'rgba(144,202,249,0.24)'\n    };\n  \n    & polygon {\n      fill: transparent;\n      transition: all 800ms ease;\n      pointer-events: none;\n    }\n    \n    & .bg {\n      stroke: var(--main-color);\n      stroke-width: 0.5;\n      filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.1));\n      fill: transparent;\n    }\n  \n    & .borderEffect {\n      stroke: var(--main-color);\n      stroke-width: 2;\n      stroke-dasharray: 150 600;\n      stroke-dashoffset: 150;\n      fill: transparent;\n    }\n  \n    &:hover,\n    &.${buttonUnstyledClasses.focusVisible} {\n      .borderEffect {\n        stroke-dashoffset: -600;\n      }\n  \n      .bg {\n        fill: var(--hover-color);\n      }\n    }\n  \n    &:focus,\n    &.${buttonUnstyledClasses.focusVisible} {\n      outline: none;\n    }\n  \n    &.${buttonUnstyledClasses.active} { \n      & .bg {\n        fill: var(--active-color);\n        transition: fill 300ms ease-out;\n      }\n    }\n  \n    & foreignObject {\n      pointer-events: none;\n  \n      & .content {\n        font-family: Helvetica, Inter, Arial, sans-serif;\n        font-size: 14px;\n        font-weight: 200;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: var(--main-color);\n        text-transform: uppercase;\n      }\n  \n      & svg {\n        margin: 0 5px;\n      }\n    }`,\n  );\n  \n  const SvgButton = React.forwardRef(function SvgButton(props, ref) {\n    return <ButtonUnstyled {...props} component={CustomButtonRoot} ref={ref} />;\n  });\n\nexport default function Login() {\n\n    const [ email, setEmail ] = React.useState(null);\n    const [ password, setPassword ] = React.useState(null);\n    const [ loading, setLoading ] = React.useState(null);\n    const [ msg, setMsg ] = React.useState({status: \"\", message: \"\"})\n\n    async function sendLogin(event) {\n        event.preventDefault()\n        setLoading(true)\n        try {\n            const url = 'https://system-rentail-api.herokuapp.com/users/login'\n            let dataLogin = {\n                email: email,\n                password: password\n            }\n            const config = {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(dataLogin)\n            }\n            const request = await fetch(url, config)\n            const jsonRequest = await request.json() \n\n            if (jsonRequest.errors) {\n              if (jsonRequest.errors.email) {\n                setMsg({status: \"error\", message: `Debe ingresar su email`})\n                setOpenAlert(true)\n                setLoading(false)  \n              } else if (jsonRequest.errors.password) {\n                setMsg({status: \"error\", message: `Debe ingresar su contraseña`})\n                setOpenAlert(true)\n                setLoading(false)\n              } else {\n                setMsg({status: \"error\", message: `Email o Contraseña incorrectas`})\n                setOpenAlert(true)\n                setLoading(false)\n              }\n\n            } else if (jsonRequest.user) {\n              setMsg({status: \"success\", message: `Bienvenid@ ${jsonRequest.user.username}!`})\n              window.localStorage.setItem(\"user\", JSON.stringify(jsonRequest.user))\n              setOpenAlert(true)\n              setTimeout(() => {\n                setLoading(false)\n                window.location.href = \"/catalog\"\n              }, 2000)\n            }\n          } catch (e){\n              setMsg({status: \"error\", message: \"Algo salio mal, no se pudo iniciar sesion!\"})\n              setOpenAlert(true); \n              setLoading(false)\n          } \n    }\n\n    function handleChange(event) {\n        if (event.target.id === \"email\"){\n            setEmail(event.target.value);\n        } else if (event.target.id === \"password\"){\n            setPassword(event.target.value)\n        }\n    }\n\n    const [openAlert, setOpenAlert] = React.useState(false);\n  \nconst handleCloseAlert = (event, reason) => {\n  if (reason === 'clickaway') {\n    return;\n  }\n\n  setOpenAlert(false);\n};\n\n    return (\n        <>\n        {loading ? <SimpleBackdrop loading={true} />: null}\n        <div className=\"box-login\">\n            <article className=\"information\">\n                <h2>Conviertete en uno de nuestros arrendadores.</h2>\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel lacus sit amet purus placerat feugiat. Maecenas id metus lobortis, pulvinar nunc id, tristique orci. Integer dolor urna, scelerisque.</p>\n                <div className=\"box-img\">\n                    <img src={imgInformation} alt=\"img\" />\n                </div>\n            </article>\n            <div className=\"forms\">\n            <div className=\"actions-login\">\n                <div className=\"login\">\n                    <h3>Ya tienes una cuenta</h3>\n                    <TextField onChange={handleChange} className=\"input-text\" id=\"email\" label=\"Email\" value={email || \"\"} placeholder=\"Ingresa tu Email\" variant=\"outlined\" />\n                    <TextField onChange={handleChange} type=\"password\" className=\"input-text\" id=\"password\" label=\"Constraseña\" value={password || \"\"} placeholder=\"Ingresa tu Password\" variant=\"outlined\" />\n                    <SvgButton onClick={sendLogin} id=\"submit-login\">Iniciar Sesion</SvgButton>\n                </div>\n            </div>\n            <div className=\"register\">\n                <h3>Aun no esta registrado?</h3>\n                <p>Fusce vitae neque libero. In ligula arcu, placerat vel luctus non, accumsan in ipsum. Pellentesque euismod commodo laoreet. </p>\n                <div className=\"actions-register\">\n                    <SvgButton onClick={(event) => {\n                      window.location.href = \"/user/register\"\n                    }} id=\"button-register\">Registrate</SvgButton>\n                    <a>Necesitas Ayuda?</a>\n                </div>\n            </div>\n            </div>\n            \n        </div>\n        <Stack spacing={2}>\n          <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n            <Alert onClose={handleCloseAlert} severity={msg.status} sx={{ width: '100%' }}>\n              {msg.message}\n            </Alert>\n          </Snackbar>\n        </Stack>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}