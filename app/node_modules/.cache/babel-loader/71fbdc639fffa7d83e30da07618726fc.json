{"ast":null,"code":"var _jsxFileName = \"/home/karina/bedu/System-Rentail/app/src/components/PublicationsPanel/utils/ModalEdit/ModalEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SimpleBackdrop from '../../../utils/SimpleBackdrop/SimpleBackdrop';\nimport Button from '@mui/material/Button';\nimport { styled } from '@mui/material/styles';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Stack from '@mui/material/Stack';\nimport MuiAlert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\nimport TextField from '@mui/material/TextField';\nimport MenuItem from '@mui/material/MenuItem';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport Collapse from '@mui/material/Collapse';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\nimport \"./modal-edit.sass\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Alert;\nconst BootstrapDialog = styled(Dialog)(({\n  theme\n}) => ({\n  '& .MuiDialogContent-root': {\n    padding: theme.spacing(2)\n  },\n  '& .MuiDialogActions-root': {\n    padding: theme.spacing(1)\n  }\n}));\n\nconst BootstrapDialogTitle = props => {\n  const {\n    children,\n    onClose,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(DialogTitle, {\n    sx: {\n      m: 0,\n      p: 2\n    },\n    ...other,\n    children: [children, onClose ? /*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"close\",\n      onClick: onClose,\n      sx: {\n        position: 'absolute',\n        right: 8,\n        top: 8,\n        color: theme => theme.palette.grey[500]\n      },\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = BootstrapDialogTitle;\nBootstrapDialogTitle.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired\n};\nexport default function ModalEdit(props) {\n  _s();\n\n  const [editData, setEditData] = React.useState({});\n  const [loading, setLoading] = React.useState(null);\n  const [msg, setMsg] = React.useState({\n    status: \"success\",\n    message: \"Publicacion Actualizada con Exito!\"\n  });\n  const [selectProducts, setSelectProducts] = React.useState([]);\n  const [open, setOpen] = React.useState(true);\n  const [optionContract, setOptionContract] = React.useState(null);\n  const contracts = {\n    prices: props.publicationData[0].prices,\n    periods: props.publicationData[0].periods\n  };\n  React.useEffect(() => {\n    setLoading(true);\n\n    const getProducts = async url => {\n      try {\n        const config = {\n          \"Authorization\": \"Bearer \" + JSON.parse(localStorage.getItem('user')).token\n        };\n        const request = await fetch(url, {\n          headers: config\n        });\n        const jsonRequest = await request.json();\n        setSelectProducts(jsonRequest);\n        setLoading(false);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    getProducts('https://system-rentail-api.herokuapp.com/products?id_lessor=' + JSON.parse(localStorage.getItem('user')).id + '&published=true');\n  }, []);\n\n  const handleClose = async event => {\n    props.setOpenModal(false);\n    setOpenModalContract(false);\n\n    if (event.target.id === 'edit-publication') {\n      setLoading(true);\n\n      try {\n        const url = 'https://system-rentail-api.herokuapp.com/publications/' + props.publicationData[0]._id;\n        const config = {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \" + JSON.parse(localStorage.getItem('user')).token\n          },\n          body: JSON.stringify(editData)\n        };\n        await fetch(url, config);\n        setOpenAlert(true);\n        setTimeout(() => {\n          window.location.href = \"/user/panel-publications\";\n        }, 1000);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  const handleChange = event => {\n    if (event.target.id === \"title\") {\n      if (event.target.value !== \"\") {\n        setEditData({ ...editData,\n          title: event.target.value\n        });\n      }\n    } else if (event.target.id === \"amount\") {\n      if (event.target.value !== \"\") {\n        setEditData({ ...editData,\n          amount: event.target.value\n        });\n      }\n    } else if (event.target.id === \"location\") {\n      if (event.target.value !== \"\") {\n        setEditData({ ...editData,\n          location: event.target.value\n        });\n      }\n    } else if (event.target.id === \"price\") {\n      contracts.prices[optionContract] = event.target.value;\n      setEditData({ ...editData,\n        prices: contracts.prices\n      });\n    } else if (event.target.id === \"period\") {\n      contracts.periods[optionContract] = event.target.value;\n      setEditData({ ...editData,\n        periods: contracts.periods\n      });\n    } else {\n      setEditData({ ...editData,\n        id_product: event.target.value\n      });\n    }\n  };\n\n  const [openModalContract, setOpenModalContract] = React.useState(false);\n\n  const handleCloseContract = () => {\n    setOpenModalContract(false);\n  };\n\n  const [openAlert, setOpenAlert] = React.useState(false);\n\n  const handleCloseAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenAlert(false);\n  };\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const handleClickContract = event => {\n    if (event.target.id == \"add-contract\") {\n      setOpenModalContract(true);\n      setOptionContract(String(props.publicationData[0].periods.length));\n      console.log(optionContract);\n    } else if (event.target.id == \"\") {\n      if (event.target.parentElement.id == \"add-contract\") {\n        setOpenModalContract(true);\n        setOptionContract(String(props.publicationData[0].periods.length));\n      } else if (event.target.parentElement.id == \"\") {\n        setOpenModalContract(true);\n        setOptionContract(event.target.parentElement.parentElement.id);\n      } else {\n        setOptionContract(event.target.parentElement.id);\n        setOpenModalContract(true);\n      }\n    } else {\n      setOptionContract(event.target.id);\n      setOpenModalContract(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(SimpleBackdrop, {\n      loading: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 16\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(BootstrapDialog, {\n        onClose: handleClose,\n        \"aria-labelledby\": \"customized-dialog-title\",\n        open: props.openModal,\n        children: [/*#__PURE__*/_jsxDEV(BootstrapDialogTitle, {\n          id: \"customized-dialog-title\",\n          onClose: handleClose,\n          children: [\"Editar: \", props.publicationData[0].title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          dividers: true,\n          className: \"dialog-content\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            className: \"input-publication\",\n            id: \"title\",\n            label: \"Titulo\",\n            value: editData.title || null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            type: \"number\",\n            className: \"input-publication\",\n            id: \"amount\",\n            label: \"Exitencias\",\n            value: editData.amount || null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            onChange: handleChange,\n            className: \"input-publication\",\n            id: \"location\",\n            label: \"Locaci\\xF3n\",\n            value: editData.location || null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"product\",\n            select: true,\n            label: \"Producto\",\n            className: \"input-publication\",\n            value: editData.id_product || props.publicationData[0].product[0].name,\n            onChange: handleChange,\n            children: selectProducts.map(p => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: p._id,\n              children: p.name\n            }, p._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 42\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            sx: {\n              width: '80%',\n              bgcolor: 'background.paper'\n            },\n            component: \"nav\",\n            \"aria-labelledby\": \"nested-list-subheader\",\n            className: \"contracts\",\n            children: [/*#__PURE__*/_jsxDEV(ListItemButton, {\n              onClick: handleClick,\n              children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Opciones de Renta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), open ? /*#__PURE__*/_jsxDEV(ExpandLess, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n              in: open,\n              timeout: \"auto\",\n              unmountOnExit: true,\n              children: /*#__PURE__*/_jsxDEV(List, {\n                component: \"div\",\n                disablePadding: true,\n                children: [props.publicationData[0].periods.map((period, index) => {\n                  return /*#__PURE__*/_jsxDEV(ListItemButton, {\n                    onClick: handleClickContract,\n                    id: index,\n                    className: \"contract-list\",\n                    sx: {\n                      pl: 4\n                    },\n                    onClick: handleClickContract,\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      className: \"input-publication-panel\",\n                      label: \"Opcion de Renta\",\n                      children: `Opcion ${index + 1} - ${period} Dias por $${props.publicationData[0].prices[index]} pesos`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 25\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(ListItemButton, {\n                  id: \"add-contract\",\n                  className: \"contract-list\",\n                  sx: {\n                    pl: 4\n                  },\n                  onClick: handleClickContract,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      style: {\n                        margin: \"10%\"\n                      },\n                      children: \" + \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 30\n                    }, this), \" Nuevo \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            id: \"edit-publication\",\n            autoFocus: true,\n            onClick: handleClose,\n            children: \"Aplicar Cambios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(BootstrapDialog, {\n        onClose: handleCloseContract,\n        \"aria-labelledby\": \"customized-dialog-title\",\n        open: openModalContract,\n        children: [/*#__PURE__*/_jsxDEV(BootstrapDialogTitle, {\n          id: \"customized-dialog-title\",\n          onClose: handleCloseContract,\n          children: [\"Editar Opcion - \", parseInt(optionContract) + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          dividers: true,\n          className: \"dialog-content\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            type: \"number\",\n            onChange: handleChange,\n            className: \"input-publication\",\n            id: \"period\",\n            label: \"Dias del Periodo\",\n            value: null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"number\",\n            onChange: handleChange,\n            className: \"input-publication\",\n            id: \"price\",\n            label: \"Precio\",\n            value: null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            id: \"edit-publication-contract\",\n            autoFocus: true,\n            onClick: handleCloseContract,\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Snackbar, {\n          open: openAlert,\n          autoHideDuration: 6000,\n          onClose: handleCloseAlert,\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            onClose: handleCloseAlert,\n            severity: msg.status,\n            sx: {\n              width: '100%'\n            },\n            children: msg.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ModalEdit, \"sc+Z1tZdhHFuRz7piwBn6YJu9kI=\");\n\n_c4 = ModalEdit;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"BootstrapDialogTitle\");\n$RefreshReg$(_c4, \"ModalEdit\");","map":{"version":3,"sources":["/home/karina/bedu/System-Rentail/app/src/components/PublicationsPanel/utils/ModalEdit/ModalEdit.jsx"],"names":["React","PropTypes","SimpleBackdrop","Button","styled","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","CloseIcon","Stack","MuiAlert","Snackbar","TextField","MenuItem","List","ListItemButton","ListItemText","Collapse","ExpandLess","ExpandMore","Alert","forwardRef","props","ref","BootstrapDialog","theme","padding","spacing","BootstrapDialogTitle","children","onClose","other","m","p","position","right","top","color","palette","grey","propTypes","node","func","isRequired","ModalEdit","editData","setEditData","useState","loading","setLoading","msg","setMsg","status","message","selectProducts","setSelectProducts","open","setOpen","optionContract","setOptionContract","contracts","prices","publicationData","periods","useEffect","getProducts","url","config","JSON","parse","localStorage","getItem","token","request","fetch","headers","jsonRequest","json","e","console","log","id","handleClose","event","setOpenModal","setOpenModalContract","target","_id","method","body","stringify","setOpenAlert","setTimeout","window","location","href","handleChange","value","title","amount","id_product","openModalContract","handleCloseContract","openAlert","handleCloseAlert","reason","handleClick","handleClickContract","String","length","parentElement","openModal","product","name","map","width","bgcolor","period","index","pl","margin","parseInt"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAO,mBAAP;;;AAEA,MAAMC,KAAK,gBAAGtB,KAAK,CAACuB,UAAN,MAAiB,SAASD,KAAT,CAAeE,KAAf,EAAsBC,GAAtB,EAA2B;AACxD,sBAAO,QAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,GAAG,EAAEA,GAA7B;AAAkC,IAAA,OAAO,EAAC,QAA1C;AAAA,OAAuDD;AAAvD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAFa,CAAd;MAAMF,K;AAIN,MAAMI,eAAe,GAAGtB,MAAM,CAACC,MAAD,CAAN,CAAe,CAAC;AAAEsB,EAAAA;AAAF,CAAD,MAAgB;AACrD,8BAA4B;AAC1BC,IAAAA,OAAO,EAAED,KAAK,CAACE,OAAN,CAAc,CAAd;AADiB,GADyB;AAIrD,8BAA4B;AAC1BD,IAAAA,OAAO,EAAED,KAAK,CAACE,OAAN,CAAc,CAAd;AADiB;AAJyB,CAAhB,CAAf,CAAxB;;AASA,MAAMC,oBAAoB,GAAIN,KAAD,IAAW;AACtC,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA,OAAZ;AAAqB,OAAGC;AAAxB,MAAkCT,KAAxC;AAEA,sBACE,QAAC,WAAD;AAAa,IAAA,EAAE,EAAE;AAAEU,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAjB;AAAA,OAAqCF,KAArC;AAAA,eACGF,QADH,EAEGC,OAAO,gBACN,QAAC,UAAD;AACE,oBAAW,OADb;AAEE,MAAA,OAAO,EAAEA,OAFX;AAGE,MAAA,EAAE,EAAE;AACFI,QAAAA,QAAQ,EAAE,UADR;AAEFC,QAAAA,KAAK,EAAE,CAFL;AAGFC,QAAAA,GAAG,EAAE,CAHH;AAIFC,QAAAA,KAAK,EAAGZ,KAAD,IAAWA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AAJhB,OAHN;AAAA,6BAUE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAVF;AAAA;AAAA;AAAA;AAAA,YADM,GAaJ,IAfN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD,CAtBD;;MAAMX,oB;AAwBNA,oBAAoB,CAACY,SAArB,GAAiC;AAC/BX,EAAAA,QAAQ,EAAE9B,SAAS,CAAC0C,IADW;AAE/BX,EAAAA,OAAO,EAAE/B,SAAS,CAAC2C,IAAV,CAAeC;AAFO,CAAjC;AAKA,eAAe,SAASC,SAAT,CAAmBtB,KAAnB,EAA0B;AAAA;;AAEvC,QAAM,CAAEuB,QAAF,EAAYC,WAAZ,IAA4BhD,KAAK,CAACiD,QAAN,CAAe,EAAf,CAAlC;AACA,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BnD,KAAK,CAACiD,QAAN,CAAe,IAAf,CAAhC;AACA,QAAM,CAAEG,GAAF,EAAOC,MAAP,IAAkBrD,KAAK,CAACiD,QAAN,CAAe;AAACK,IAAAA,MAAM,EAAE,SAAT;AAAoBC,IAAAA,OAAO,EAAE;AAA7B,GAAf,CAAxB;AACA,QAAM,CAAEC,cAAF,EAAkBC,iBAAlB,IAAuCzD,KAAK,CAACiD,QAAN,CAAe,EAAf,CAA7C;AACA,QAAM,CAAES,IAAF,EAAQC,OAAR,IAAmB3D,KAAK,CAACiD,QAAN,CAAe,IAAf,CAAzB;AACA,QAAM,CAAEW,cAAF,EAAkBC,iBAAlB,IAAuC7D,KAAK,CAACiD,QAAN,CAAe,IAAf,CAA7C;AAEA,QAAMa,SAAS,GAAG;AAChBC,IAAAA,MAAM,EAAEvC,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBD,MADjB;AAEhBE,IAAAA,OAAO,EAAEzC,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBC;AAFlB,GAAlB;AAKAjE,EAAAA,KAAK,CAACkE,SAAN,CAAgB,MAAM;AACpBf,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,UAAMgB,WAAW,GAAG,MAAOC,GAAP,IAAe;AACjC,UAAI;AACF,cAAMC,MAAM,GAAG;AACX,2BAAiB,YAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC;AAD3D,SAAf;AAIA,cAAMC,OAAO,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAM;AAC/BS,UAAAA,OAAO,EAAER;AADsB,SAAN,CAA3B;AAGE,cAAMS,WAAW,GAAG,MAAMH,OAAO,CAACI,IAAR,EAA1B;AACAtB,QAAAA,iBAAiB,CAACqB,WAAD,CAAjB;AACA3B,QAAAA,UAAU,CAAC,KAAD,CAAV;AAED,OAZH,CAYI,OAAO6B,CAAP,EAAS;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AAAE,KAfP;;AAiBIb,IAAAA,WAAW,CAAC,iEAAiEG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCU,EAA1G,GAA+G,iBAAhH,CAAX;AAEP,GArBC,EAqBA,EArBA;;AAuBA,QAAMC,WAAW,GAAG,MAAOC,KAAP,IAAiB;AACnC7D,IAAAA,KAAK,CAAC8D,YAAN,CAAmB,KAAnB;AACAC,IAAAA,oBAAoB,CAAC,KAAD,CAApB;;AACA,QAAIF,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,kBAAxB,EAA2C;AACzChC,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,UAAI;AACF,cAAMiB,GAAG,GAAG,2DAA2D5C,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyByB,GAAhG;AACA,cAAMpB,MAAM,GAAG;AACXqB,UAAAA,MAAM,EAAE,KADG;AAEXb,UAAAA,OAAO,EAAE;AACP,4BAAgB,kBADT;AAEP,6BAAiB,YAAYP,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC;AAF/D,WAFE;AAMXiB,UAAAA,IAAI,EAAErB,IAAI,CAACsB,SAAL,CAAe7C,QAAf;AANK,SAAf;AASA,cAAM6B,KAAK,CAACR,GAAD,EAAMC,MAAN,CAAX;AACAwB,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAC,QAAAA,UAAU,CAAC,MAAM;AACfC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,0BAAvB;AACD,SAFS,EAEP,IAFO,CAAV;AAID,OAjBD,CAiBE,OAAOjB,CAAP,EAAS;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF;AACF,GA1BD;;AA4BA,QAAMkB,YAAY,GAAIb,KAAD,IAAW;AAC9B,QAAIA,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,OAAxB,EAAgC;AAC9B,UAAIE,KAAK,CAACG,MAAN,CAAaW,KAAb,KAAuB,EAA3B,EAA+B;AAC7BnD,QAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcqD,UAAAA,KAAK,EAACf,KAAK,CAACG,MAAN,CAAaW;AAAjC,SAAD,CAAX;AACD;AACF,KAJD,MAIO,IAAId,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,QAAxB,EAAiC;AACtC,UAAIE,KAAK,CAACG,MAAN,CAAaW,KAAb,KAAuB,EAA3B,EAA+B;AAC7BnD,QAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcsD,UAAAA,MAAM,EAAChB,KAAK,CAACG,MAAN,CAAaW;AAAlC,SAAD,CAAX;AACD;AACF,KAJM,MAIA,IAAId,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,UAAxB,EAAoC;AACzC,UAAIE,KAAK,CAACG,MAAN,CAAaW,KAAb,KAAuB,EAA3B,EAA+B;AAC7BnD,QAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAciD,UAAAA,QAAQ,EAACX,KAAK,CAACG,MAAN,CAAaW;AAApC,SAAD,CAAX;AACD;AACF,KAJM,MAIA,IAAId,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,OAAxB,EAAgC;AACrCrB,MAAAA,SAAS,CAACC,MAAV,CAAiBH,cAAjB,IAAmCyB,KAAK,CAACG,MAAN,CAAaW,KAAhD;AACAnD,MAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcgB,QAAAA,MAAM,EAAED,SAAS,CAACC;AAAhC,OAAD,CAAX;AACD,KAHM,MAGA,IAAIsB,KAAK,CAACG,MAAN,CAAaL,EAAb,KAAoB,QAAxB,EAAiC;AACtCrB,MAAAA,SAAS,CAACG,OAAV,CAAkBL,cAAlB,IAAoCyB,KAAK,CAACG,MAAN,CAAaW,KAAjD;AACAnD,MAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAckB,QAAAA,OAAO,EAAEH,SAAS,CAACG;AAAjC,OAAD,CAAX;AACD,KAHM,MAGA;AACLjB,MAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcuD,QAAAA,UAAU,EAACjB,KAAK,CAACG,MAAN,CAAaW;AAAtC,OAAD,CAAX;AACD;AACF,GAtBD;;AAwBA,QAAM,CAACI,iBAAD,EAAoBhB,oBAApB,IAA4CvF,KAAK,CAACiD,QAAN,CAAe,KAAf,CAAlD;;AAEA,QAAMuD,mBAAmB,GAAG,MAAM;AAChCjB,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACD,GAFD;;AAIA,QAAM,CAACkB,SAAD,EAAYZ,YAAZ,IAA4B7F,KAAK,CAACiD,QAAN,CAAe,KAAf,CAAlC;;AAEA,QAAMyD,gBAAgB,GAAG,CAACrB,KAAD,EAAQsB,MAAR,KAAmB;AAC1C,QAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1B;AACD;;AAEDd,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAND;;AAQA,QAAMe,WAAW,GAAG,MAAM;AACxBjD,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD,GAFD;;AAIA,QAAMmD,mBAAmB,GAAIxB,KAAD,IAAW;AACrC,QAAIA,KAAK,CAACG,MAAN,CAAaL,EAAb,IAAmB,cAAvB,EAAuC;AACrCI,MAAAA,oBAAoB,CAAC,IAAD,CAApB;AACA1B,MAAAA,iBAAiB,CAACiD,MAAM,CAACtF,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBC,OAAzB,CAAiC8C,MAAlC,CAAP,CAAjB;AACA9B,MAAAA,OAAO,CAACC,GAAR,CAAYtB,cAAZ;AACD,KAJD,MAIO,IAAIyB,KAAK,CAACG,MAAN,CAAaL,EAAb,IAAmB,EAAvB,EAA2B;AAChC,UAAIE,KAAK,CAACG,MAAN,CAAawB,aAAb,CAA2B7B,EAA3B,IAAiC,cAArC,EAAqD;AACnDI,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACA1B,QAAAA,iBAAiB,CAACiD,MAAM,CAACtF,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBC,OAAzB,CAAiC8C,MAAlC,CAAP,CAAjB;AACD,OAHD,MAGO,IAAI1B,KAAK,CAACG,MAAN,CAAawB,aAAb,CAA2B7B,EAA3B,IAAiC,EAArC,EAAwC;AAC7CI,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACA1B,QAAAA,iBAAiB,CAACwB,KAAK,CAACG,MAAN,CAAawB,aAAb,CAA2BA,aAA3B,CAAyC7B,EAA1C,CAAjB;AACD,OAHM,MAGA;AACLtB,QAAAA,iBAAiB,CAACwB,KAAK,CAACG,MAAN,CAAawB,aAAb,CAA2B7B,EAA5B,CAAjB;AACAI,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD;AACF,KAXM,MAWA;AACL1B,MAAAA,iBAAiB,CAACwB,KAAK,CAACG,MAAN,CAAaL,EAAd,CAAjB;AACAI,MAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD;AACF,GApBD;;AAuBA,sBACE;AAAA,eACCrC,OAAO,gBAAG,QAAC,cAAD;AAAgB,MAAA,OAAO,EAAE;AAAzB;AAAA;AAAA;AAAA;AAAA,YAAH,GAAsC,IAD9C,eAEA;AAAA,8BACE,QAAC,eAAD;AACE,QAAA,OAAO,EAAEkC,WADX;AAEE,2BAAgB,yBAFlB;AAGE,QAAA,IAAI,EAAE5D,KAAK,CAACyF,SAHd;AAAA,gCAKE,QAAC,oBAAD;AAAsB,UAAA,EAAE,EAAC,yBAAzB;AAAmD,UAAA,OAAO,EAAE7B,WAA5D;AAAA,iCACY5D,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBoC,KADrC;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAQE,QAAC,aAAD;AAAe,UAAA,QAAQ,MAAvB;AAAwB,UAAA,SAAS,EAAC,gBAAlC;AAAA,kCACE,QAAC,SAAD;AAAW,YAAA,QAAQ,EAAEF,YAArB;AAAmC,YAAA,SAAS,EAAC,mBAA7C;AAAiE,YAAA,EAAE,EAAC,OAApE;AAA4E,YAAA,KAAK,EAAC,QAAlF;AAA2F,YAAA,KAAK,EAAEnD,QAAQ,CAACqD,KAAT,IAAkB;AAApH;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,SAAD;AAAW,YAAA,QAAQ,EAAEF,YAArB;AAAmC,YAAA,IAAI,EAAC,QAAxC;AAAiD,YAAA,SAAS,EAAC,mBAA3D;AAA+E,YAAA,EAAE,EAAC,QAAlF;AAA2F,YAAA,KAAK,EAAC,YAAjG;AAA8G,YAAA,KAAK,EAAEnD,QAAQ,CAACsD,MAAT,IAAmB;AAAxI;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE,QAAC,SAAD;AAAW,YAAA,QAAQ,EAAEH,YAArB;AAAmC,YAAA,SAAS,EAAC,mBAA7C;AAAiE,YAAA,EAAE,EAAC,UAApE;AAA+E,YAAA,KAAK,EAAC,aAArF;AAAgG,YAAA,KAAK,EAAEnD,QAAQ,CAACiD,QAAT,IAAqB;AAA5H;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE,QAAC,SAAD;AACI,YAAA,EAAE,EAAC,SADP;AAEI,YAAA,MAAM,MAFV;AAGI,YAAA,KAAK,EAAC,UAHV;AAII,YAAA,SAAS,EAAC,mBAJd;AAKI,YAAA,KAAK,EAAEjD,QAAQ,CAACuD,UAAT,IAAuB9E,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBkD,OAAzB,CAAiC,CAAjC,EAAoCC,IALtE;AAMI,YAAA,QAAQ,EAAEjB,YANd;AAAA,sBAQK1C,cAAc,CAAC4D,GAAf,CAAoBjF,CAAD,iBAAO,QAAC,QAAD;AAAsB,cAAA,KAAK,EAAEA,CAAC,CAACsD,GAA/B;AAAA,wBAAqCtD,CAAC,CAACgF;AAAvC,eAAehF,CAAC,CAACsD,GAAjB;AAAA;AAAA;AAAA;AAAA,oBAA1B;AARL;AAAA;AAAA;AAAA;AAAA,kBAJF,eAcI,QAAC,IAAD;AACI,YAAA,EAAE,EAAE;AAAE4B,cAAAA,KAAK,EAAE,KAAT;AAAgBC,cAAAA,OAAO,EAAE;AAAzB,aADR;AAEI,YAAA,SAAS,EAAC,KAFd;AAGI,+BAAgB,uBAHpB;AAII,YAAA,SAAS,EAAC,WAJd;AAAA,oCAMI,QAAC,cAAD;AAAgB,cAAA,OAAO,EAAEV,WAAzB;AAAA,sCACA,QAAC,YAAD;AAAc,gBAAA,OAAO,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,sBADA,EAEClD,IAAI,gBAAG,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,sBAAH,gBAAoB,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,sBAFzB;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAUI,QAAC,QAAD;AAAU,cAAA,EAAE,EAAEA,IAAd;AAAoB,cAAA,OAAO,EAAC,MAA5B;AAAmC,cAAA,aAAa,MAAhD;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC,KAAhB;AAAsB,gBAAA,cAAc,MAApC;AAAA,2BACClC,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBC,OAAzB,CAAiCmD,GAAjC,CAAqC,CAACG,MAAD,EAASC,KAAT,KAAmB;AACrD,sCACE,QAAC,cAAD;AAAgB,oBAAA,OAAO,EAAEX,mBAAzB;AAA8C,oBAAA,EAAE,EAAEW,KAAlD;AAAyD,oBAAA,SAAS,EAAC,eAAnE;AAAmF,oBAAA,EAAE,EAAE;AAAEC,sBAAAA,EAAE,EAAE;AAAN,qBAAvF;AAAkG,oBAAA,OAAO,EAAEZ,mBAA3G;AAAA,2CACE,QAAC,YAAD;AAAc,sBAAA,SAAS,EAAC,yBAAxB;AAAkD,sBAAA,KAAK,EAAC,iBAAxD;AAAA,gCAA4E,UAASW,KAAK,GAAG,CAAE,MAAKD,MAAO,cAAa/F,KAAK,CAACwC,eAAN,CAAsB,CAAtB,EAAyBD,MAAzB,CAAgCyD,KAAhC,CAAuC;AAA/J;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF;AAKH,iBANA,CADD,eAQA,QAAC,cAAD;AAAgB,kBAAA,EAAE,EAAC,cAAnB;AAAkC,kBAAA,SAAS,EAAC,eAA5C;AAA4D,kBAAA,EAAE,EAAE;AAAEC,oBAAAA,EAAE,EAAE;AAAN,mBAAhE;AAA2E,kBAAA,OAAO,EAAEZ,mBAApF;AAAA,yCACE,QAAC,MAAD;AAAA,iDAAS;AAAQ,sBAAA,KAAK,EAAE;AAAEa,wBAAAA,MAAM,EAAE;AAAV,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBARA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAgDE,QAAC,aAAD;AAAA,iCACE,QAAC,MAAD;AAAQ,YAAA,EAAE,EAAC,kBAAX;AAA8B,YAAA,SAAS,MAAvC;AAAwC,YAAA,OAAO,EAAEtC,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhDF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAuDE,QAAC,eAAD;AACE,QAAA,OAAO,EAAEoB,mBADX;AAEE,2BAAgB,yBAFlB;AAGE,QAAA,IAAI,EAAED,iBAHR;AAAA,gCAKE,QAAC,oBAAD;AAAsB,UAAA,EAAE,EAAC,yBAAzB;AAAmD,UAAA,OAAO,EAAEC,mBAA5D;AAAA,yCACoBmB,QAAQ,CAAC/D,cAAD,CAAR,GAA2B,CAD/C;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAQE,QAAC,aAAD;AAAe,UAAA,QAAQ,MAAvB;AAAwB,UAAA,SAAS,EAAC,gBAAlC;AAAA,kCACA,QAAC,SAAD;AAAW,YAAA,IAAI,EAAC,QAAhB;AAAyB,YAAA,QAAQ,EAAEsC,YAAnC;AAAiD,YAAA,SAAS,EAAC,mBAA3D;AAA+E,YAAA,EAAE,EAAC,QAAlF;AAA2F,YAAA,KAAK,EAAC,kBAAjG;AAAoH,YAAA,KAAK,EAAG;AAA5H;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA,QAAC,SAAD;AAAW,YAAA,IAAI,EAAC,QAAhB;AAAyB,YAAA,QAAQ,EAAEA,YAAnC;AAAiD,YAAA,SAAS,EAAC,mBAA3D;AAA+E,YAAA,EAAE,EAAC,OAAlF;AAA0F,YAAA,KAAK,EAAC,QAAhG;AAAyG,YAAA,KAAK,EAAG;AAAjH;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAYE,QAAC,aAAD;AAAA,iCACE,QAAC,MAAD;AAAQ,YAAA,EAAE,EAAC,2BAAX;AAAuC,YAAA,SAAS,MAAhD;AAAiD,YAAA,OAAO,EAAEM,mBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cAvDF,eAyEE,QAAC,KAAD;AAAO,QAAA,OAAO,EAAE,CAAhB;AAAA,+BACA,QAAC,QAAD;AAAU,UAAA,IAAI,EAAEC,SAAhB;AAA2B,UAAA,gBAAgB,EAAE,IAA7C;AAAmD,UAAA,OAAO,EAAEC,gBAA5D;AAAA,iCACE,QAAC,KAAD;AAAO,YAAA,OAAO,EAAEA,gBAAhB;AAAkC,YAAA,QAAQ,EAAEtD,GAAG,CAACE,MAAhD;AAAwD,YAAA,EAAE,EAAE;AAAE+D,cAAAA,KAAK,EAAE;AAAT,aAA5D;AAAA,sBACGjE,GAAG,CAACG;AADP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAzEF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA;AAAA,kBADF;AAsFD;;GA1NuBT,S;;MAAAA,S","sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SimpleBackdrop from '../../../utils/SimpleBackdrop/SimpleBackdrop'\nimport Button from '@mui/material/Button';\nimport { styled } from '@mui/material/styles';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Stack from '@mui/material/Stack';\nimport MuiAlert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\nimport TextField from '@mui/material/TextField';\nimport MenuItem from '@mui/material/MenuItem';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport Collapse from '@mui/material/Collapse';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\nimport \"./modal-edit.sass\"\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\n  '& .MuiDialogContent-root': {\n    padding: theme.spacing(2),\n  },\n  '& .MuiDialogActions-root': {\n    padding: theme.spacing(1),\n  },\n}));\n\nconst BootstrapDialogTitle = (props) => {\n  const { children, onClose, ...other } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\n      {children}\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nBootstrapDialogTitle.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default function ModalEdit(props) {\n\n  const [ editData, setEditData ] = React.useState({})\n  const [ loading, setLoading ] = React.useState(null);\n  const [ msg, setMsg ] = React.useState({status: \"success\", message: \"Publicacion Actualizada con Exito!\"})\n  const [ selectProducts, setSelectProducts] = React.useState([]);\n  const [ open, setOpen] = React.useState(true);\n  const [ optionContract, setOptionContract] = React.useState(null);\n\n  const contracts = {\n    prices: props.publicationData[0].prices,\n    periods: props.publicationData[0].periods\n  }\n\n  React.useEffect(() => {\n    setLoading(true);\n    const getProducts = async (url) => {\n      try {\n        const config = {\n            \"Authorization\": \"Bearer \" + JSON.parse(localStorage.getItem('user')).token\n        }\n\n        const request = await fetch(url, {\n          headers: config\n        }) \n          const jsonRequest = await request.json() \n          setSelectProducts(jsonRequest)\n          setLoading(false)\n\n        } catch (e){ \n          console.log(e); \n        } } \n\n        getProducts('https://system-rentail-api.herokuapp.com/products?id_lessor=' + JSON.parse(localStorage.getItem('user')).id + '&published=true')\n\n},[])\n\n  const handleClose = async (event) => {\n    props.setOpenModal(false);\n    setOpenModalContract(false);\n    if (event.target.id === 'edit-publication'){\n      setLoading(true)\n      try {\n        const url = 'https://system-rentail-api.herokuapp.com/publications/' + props.publicationData[0]._id\n        const config = {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": \"Bearer \" + JSON.parse(localStorage.getItem('user')).token \n            },\n            body: JSON.stringify(editData)\n            \n        }\n        await fetch(url, config)\n        setOpenAlert(true)\n        setTimeout(() => {\n          window.location.href = \"/user/panel-publications\"\n        }, 1000)\n\n      } catch (e){\n        console.log(e);\n      } \n    }\n  };\n\n  const handleChange = (event) => {\n    if (event.target.id === \"title\"){\n      if (event.target.value !== \"\") {\n        setEditData({...editData, title:event.target.value});\n      }\n    } else if (event.target.id === \"amount\"){\n      if (event.target.value !== \"\") {\n        setEditData({...editData, amount:event.target.value})\n      }\n    } else if (event.target.id === \"location\") {\n      if (event.target.value !== \"\") {\n        setEditData({...editData, location:event.target.value})\n      }\n    } else if (event.target.id === \"price\"){\n      contracts.prices[optionContract] = event.target.value\n      setEditData({...editData, prices: contracts.prices})\n    } else if (event.target.id === \"period\"){\n      contracts.periods[optionContract] = event.target.value\n      setEditData({...editData, periods: contracts.periods}) \n    } else {\n      setEditData({...editData, id_product:event.target.value})\n    }\n  }\n\n  const [openModalContract, setOpenModalContract] = React.useState(false);\n\n  const handleCloseContract = () => {\n    setOpenModalContract(false);\n  };\n\n  const [openAlert, setOpenAlert] = React.useState(false);\n      \n  const handleCloseAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenAlert(false);\n  }\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  const handleClickContract = (event) => {\n    if (event.target.id == \"add-contract\") {\n      setOpenModalContract(true)\n      setOptionContract(String(props.publicationData[0].periods.length));\n      console.log(optionContract);\n    } else if (event.target.id == \"\") {\n      if (event.target.parentElement.id == \"add-contract\") {\n        setOpenModalContract(true)\n        setOptionContract(String(props.publicationData[0].periods.length));\n      } else if (event.target.parentElement.id == \"\"){\n        setOpenModalContract(true)\n        setOptionContract(event.target.parentElement.parentElement.id)\n      } else {\n        setOptionContract(event.target.parentElement.id)\n        setOpenModalContract(true)\n      }\n    } else {\n      setOptionContract(event.target.id)\n      setOpenModalContract(true)\n    }\n  }\n\n\n  return (\n    <>\n    {loading ? <SimpleBackdrop loading={true} />: null} \n    <div >\n      <BootstrapDialog\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={props.openModal}\n      >\n        <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n           Editar: {props.publicationData[0].title}\n        </BootstrapDialogTitle>\n        <DialogContent dividers className=\"dialog-content\">\n          <TextField onChange={handleChange} className=\"input-publication\" id=\"title\" label=\"Titulo\" value={editData.title || null}/>\n          <TextField onChange={handleChange} type=\"number\" className=\"input-publication\" id=\"amount\" label=\"Exitencias\" value={editData.amount || null }/>\n          <TextField onChange={handleChange} className=\"input-publication\" id=\"location\" label=\"LocaciÃ³n\" value={editData.location || null }/>\n          <TextField\n              id=\"product\"\n              select\n              label=\"Producto\"\n              className=\"input-publication\"\n              value={editData.id_product || props.publicationData[0].product[0].name}\n              onChange={handleChange}\n            >\n              {selectProducts.map((p) => <MenuItem key={p._id} value={p._id}>{p.name}</MenuItem> )}\n            </TextField>\n            <List\n                sx={{ width: '80%', bgcolor: 'background.paper' }}\n                component=\"nav\"\n                aria-labelledby=\"nested-list-subheader\"\n                className=\"contracts\"\n                >\n                <ListItemButton onClick={handleClick}>\n                <ListItemText primary=\"Opciones de Renta\" />\n                {open ? <ExpandLess /> : <ExpandMore />}\n                </ListItemButton>\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                  {props.publicationData[0].periods.map((period, index) => {\n                      return (\n                        <ListItemButton onClick={handleClickContract} id={index} className=\"contract-list\" sx={{ pl: 4 }} onClick={handleClickContract}>\n                          <ListItemText className=\"input-publication-panel\" label=\"Opcion de Renta\">{`Opcion ${index + 1} - ${period} Dias por $${props.publicationData[0].prices[index]} pesos`}</ListItemText>\n                        </ListItemButton>\n                      ) \n                  })}\n                  <ListItemButton id=\"add-contract\" className=\"contract-list\" sx={{ pl: 4 }} onClick={handleClickContract}>\n                    <Button> <strong style={{ margin: \"10%\" }}> + </strong> Nuevo </Button>\n                  </ListItemButton>\n                  </List>\n                </Collapse>\n                </List>\n        </DialogContent>\n        <DialogActions>\n          <Button id=\"edit-publication\" autoFocus onClick={handleClose}>\n            Aplicar Cambios\n          </Button>\n        </DialogActions>\n      </BootstrapDialog>\n      <BootstrapDialog\n        onClose={handleCloseContract}\n        aria-labelledby=\"customized-dialog-title\"\n        open={openModalContract}\n      >\n        <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleCloseContract}>\n           Editar Opcion - {parseInt(optionContract) + 1}\n        </BootstrapDialogTitle>\n        <DialogContent dividers className=\"dialog-content\">\n        <TextField type=\"number\" onChange={handleChange} className=\"input-publication\" id=\"period\" label=\"Dias del Periodo\" value={ null }/>\n        <TextField type=\"number\" onChange={handleChange} className=\"input-publication\" id=\"price\" label=\"Precio\" value={ null }/>\n        </DialogContent>\n        <DialogActions>\n          <Button id=\"edit-publication-contract\" autoFocus onClick={handleCloseContract}>\n            Guardar\n          </Button>\n        </DialogActions>\n      </BootstrapDialog>\n      <Stack spacing={2}>\n      <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n        <Alert onClose={handleCloseAlert} severity={msg.status} sx={{ width: '100%' }}>\n          {msg.message}\n        </Alert>\n      </Snackbar>\n      </Stack>\n    </div>\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}