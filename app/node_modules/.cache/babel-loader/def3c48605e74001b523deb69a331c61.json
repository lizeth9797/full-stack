{"ast":null,"code":"var _jsxFileName = \"/home/karina/bedu/System-Rentail/app/src/components/Catalog/Catalog.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ToolsCatalog from './utils/ToolsCatalog/ToolsCatalog';\nimport SimpleBackdrop from '../utils/SimpleBackdrop/SimpleBackdrop';\nimport BasicBreadcrumbs from '../utils/BasicBreadcrumbs/BasicBreadcrumbs';\nimport NotResults from './utils/NotResults/NotResults';\nimport './catalog.sass';\nimport { Card } from '../Card/Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Catalog(props) {\n  _s();\n\n  const [publications, setPublications] = useState([]);\n  const [loading, setLoading] = useState(null);\n  const [notResult, setNotResult] = useState(null);\n  const [search, setSearch] = useState(null);\n  console.log(props);\n  useEffect(() => {\n    const getPublications = async url => {\n      setLoading(true);\n\n      try {\n        const request = await fetch(url);\n        const jsonRequest = await request.json();\n\n        if (jsonRequest.length > 0) {\n          setLoading(false);\n          setPublications(jsonRequest);\n          setNotResult(false);\n        } else {\n          setNotResult(true);\n        }\n      } catch (err) {\n        setNotResult(true);\n      }\n    };\n\n    let url = \"https://system-rentail-api.herokuapp.com/publications\";\n\n    if (props.match.params.search) {\n      url = url + \"?title=\" + props.match.params.search;\n    }\n\n    getPublications(url);\n  }, []);\n\n  const searchPublications = async (url_search, search) => {\n    setLoading(true);\n    const request = await fetch(url_search);\n\n    if (request.status === 200) {\n      const jsonRequest = await request.json();\n      setLoading(false);\n      setSearch(search);\n      setPublications(jsonRequest);\n      setNotResult(false);\n    } else {\n      setSearch(null);\n      setLoading(false);\n      setPublications([]);\n      setNotResult(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BasicBreadcrumbs, {\n      search: search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(SimpleBackdrop, {\n      loading: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 20\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"body-catalog\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"catalog\",\n        children: [/*#__PURE__*/_jsxDEV(ToolsCatalog, {\n          searchPublications: searchPublications\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: publications.length > 0 ? publications.map(publication => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                history: props.history,\n                publication: publication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 62\n              }, this)\n            }, publication._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 36\n            }, this);\n          }) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), notResult ? /*#__PURE__*/_jsxDEV(NotResults, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 30\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"TWxbl8z8kHnP7CPGT1rjz7FJU4E=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"sources":["/home/karina/bedu/System-Rentail/app/src/components/Catalog/Catalog.jsx"],"names":["React","useState","useEffect","ToolsCatalog","SimpleBackdrop","BasicBreadcrumbs","NotResults","Card","Catalog","props","publications","setPublications","loading","setLoading","notResult","setNotResult","search","setSearch","console","log","getPublications","url","request","fetch","jsonRequest","json","length","err","match","params","searchPublications","url_search","status","map","publication","history","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ToolsCatalog from './utils/ToolsCatalog/ToolsCatalog'\nimport SimpleBackdrop from '../utils/SimpleBackdrop/SimpleBackdrop'\nimport BasicBreadcrumbs from '../utils/BasicBreadcrumbs/BasicBreadcrumbs'\nimport NotResults from './utils/NotResults/NotResults'\nimport './catalog.sass'\nimport { Card } from '../Card/Card'\n\nexport default function Catalog(props) {\n\n    const [ publications, setPublications ] = useState([]);\n    const [ loading, setLoading ] = useState(null);\n    const [ notResult, setNotResult ] = useState(null);\n    const [ search, setSearch ] = useState(null)\n    console.log(props);\n\n    useEffect(() => {\n        const getPublications = async (url) => {\n            setLoading(true)\n            try {\n                const request = await fetch(url)\n                const jsonRequest = await request.json()\n                if (jsonRequest.length > 0) {\n                    setLoading(false)\n                    setPublications(jsonRequest)\n                    setNotResult(false)\n                } else {\n                    setNotResult(true)\n                }\n            } catch (err) {\n                setNotResult(true)\n            }\n        }\n\n        let url = \"https://system-rentail-api.herokuapp.com/publications\"\n\n        if (props.match.params.search) {\n            url = url + \"?title=\" + props.match.params.search\n        }\n\n        getPublications(url)\n\n    },[])\n\n\n    const searchPublications = async (url_search, search) => {\n        setLoading(true)\n        const request = await fetch(url_search)\n        if (request.status === 200) {\n            const jsonRequest = await request.json()\n                setLoading(false)\n                setSearch(search)\n                setPublications(jsonRequest)\n                setNotResult(false)\n        } else {\n            setSearch(null)\n            setLoading(false)\n            setPublications([])\n            setNotResult(true)\n        }\n    }\n\n    return (\n        <>\n        <BasicBreadcrumbs search={search} />\n        {loading ? <SimpleBackdrop loading={true} />: null}\n        <main className=\"body-catalog\">\n            <div className=\"catalog\">\n                <ToolsCatalog searchPublications={searchPublications} />\n                <ul>\n                    {publications.length > 0 ? publications.map(publication => {\n                            return <li key={publication._id}><Card history={props.history} publication={publication}/></li>\n                    }): null}\n                </ul>\n                {notResult ? <NotResults /> : null}\n            </div>\n        </main>\n        </>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}